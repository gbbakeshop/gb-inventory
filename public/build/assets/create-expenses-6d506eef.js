import{r as n,c as C,j as a,a as d,p as m,h as u,x as I}from"./app-13f09cc1.js";import{D as S}from"./drawer-2a68c886.js";import{L as E}from"./loading-component-1dcda2c6.js";import{S as c}from"./select-e7fa5ccc.js";import{I as N}from"./input-b70acb70.js";import{c as L}from"./expenses-service-6692c7c0.js";import{P as k}from"./PlusIcon-59f038e5.js";import"./dialog-9e5fb0f5.js";import"./use-flags-b92e8478.js";import"./keyboard-ac6e2ca1.js";import"./hidden-e11d2d3e.js";import"./use-root-containers-d5c0d305.js";import"./use-outside-click-fa077605.js";import"./use-owner-4a10483a.js";import"./description-ce464810.js";import"./open-closed-ba0c67c8.js";import"./transition-8907eb00.js";function X({account:p,branch_id:f,selecta:A,breads:D,users:g,rawMaterials:h}){const[x,o]=n.useState(!1),[_,R]=n.useState(!1),b=n.useRef(),r=C(),[t,s]=n.useState({user_id:null,raw_materials_id:null,selecta_id:null,amount:0,discription:""});function w(e){e.preventDefault(),r(m({status:"loading",message:"Loading..."})),L({branch_id:f,seller_id:p.id,user_id:t.user_id,raw_materials_id:t.raw_materials_id,amount:t.amount,discription:t.discription,status:"paid",meridiem:u().format("A"),date:u().format("L")}).then(i=>{s({user_id:null,raw_materials_id:null,selecta_id:null,amount:0,discription:""}),o(!1),r(m(i.notify)),r(I(i.status))})}function v(e){const i=e.target.selectedIndex,l=e.target.options[i].getAttribute("dataid");s({...t,user_id:l})}function y(e){const i=e.target.selectedIndex,l=e.target.options[i].getAttribute("dataid");s({...t,raw_materials_id:l})}return a(S,{title:"Create Expenses",open:x,setOpen:o,button:a("span",{className:"hidden sm:block",children:a("button",{onClick:()=>o(!0),type:"button",children:a(k,{className:"-ml-0.5 mr-1.5 h-6 w-6 text-green-500","aria-hidden":"true"})})}),children:d("form",{ref:b,name:"form",onSubmit:w,className:"flex flex-col h-full w-full",children:[d("div",{className:"flex-1",children:[a(c,{title:"GB Employee",value:t.user_id,onChange:e=>v(e),items:g.map(e=>({value:e.name,id:e.id}))}),a(c,{title:"Select Raw Materials",value:t.raw_materials_id,onChange:e=>y(e),items:h.map(e=>({value:e.name,id:e.id}))}),a("textarea",{onChange:e=>s({...t,discription:e.target.value}),name:"description",placeholder:"Write your discription",className:"border-red-500 appearance-none block w-full bg-gray-200 text-gray-700 border-2  rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-white"}),a(N,{onChange:e=>s({...t,amount:e.target.value}),value:t.amount,name:"amount",title:"Input amount",placeholder:"Input amount",type:"text"})]}),a("div",{className:"flex-none",children:_?a(E,{}):a("button",{type:"submit",className:"flex-none w-full bg-red-600 hover:bg-red-700 text-white font-bold py-2 px-4 rounded bottom-0",children:"CREATE"})})]})})}export{X as default};
