import{c as L,r as l,u as R,j as e,F as x,a as r,T as v}from"./app-d4abecb6.js";import{D as I}from"./drawer-69045bf9.js";import{L as k}from"./loading-component-df6d0b1b.js";import{d as T,a as j}from"./raw-materials-group-service-58aed8f0.js";import{P as q}from"./PencilSquareIcon-2015dc7e.js";import{C as D}from"./CheckIcon-ae18db1a.js";import{T as F}from"./TrashIcon-a5d8fa6a.js";import{q as s}from"./combobox-8e81ae19.js";import{t as G}from"./transition-5d507f62.js";import"./dialog-9311a3d8.js";import"./use-flags-b4b16364.js";import"./keyboard-aa6426b8.js";import"./hidden-a3069862.js";import"./use-root-containers-e0b1d38f.js";import"./use-outside-click-9d8e787d.js";import"./use-owner-eb7327d2.js";import"./description-a3ada370.js";import"./open-closed-2b25fd50.js";import"./use-computed-5fb79324.js";import"./use-resolve-button-type-4b5f1806.js";import"./use-tree-walker-02c3dc80.js";import"./use-tracked-pointer-791c37cd.js";import"./use-controllable-7acbbc65.js";function se({data:o}){const d=L(),[i,c]=l.useState([]),[w,N]=l.useState(!1),[b,m]=l.useState(!1);l.useRef();const[n,u]=l.useState(""),{rawMaterials:p}=R(t=>t.controls),[y,f]=l.useState(!1),[S,h]=l.useState(0);function C(t){N(!0),h(t),T(t).then(a=>{h(!1),d(v(a.data.original.status))})}const g=n===""?p:p.filter(t=>t.name.toLowerCase().includes(n.toLowerCase()));function _(t){t.preventDefault(),m(!0),j(i,o[0]).then(a=>{c([]),m(!1),d(v(a.data.original.status))})}return e(x,{children:e(I,{title:"Edit Group Raw Materials",open:y,setOpen:f,button:e("button",{onClick:()=>f(!0),children:e(q,{className:"-ml-0.5 mr-1.5 h-6 w-6 text-violet-500","aria-hidden":"true"})}),children:r("form",{name:"form",onSubmit:_,className:"flex flex-col h-full w-full",children:[e("div",{className:"flex-none",children:e(s,{value:i,onChange:c,multiple:!0,children:r("div",{className:"relative mt-1",children:[r("div",{className:"relative w-full cursor-default rounded-lg text-left  focus:outline-none focus-visible:ring-2 focus-visible:ring-white/75 focus-visible:ring-offset-2 focus-visible:ring-offset-red-300 sm:text-sm",children:[e(s.Input,{placeholder:"Search bread",className:"w-full h-full border rounded-md border-red-500 py-4 pl-3 pr-10 text-sm leading-5 text-gray-900 focus:ring-0",onChange:t=>u(t.target.value)}),e("div",{className:"flex flex-wrap",children:i.length>0&&i.map(t=>e("div",{className:"m-1 p-2 bg-red-500 rounded-md text-white",children:t.name}))})]}),e(G,{as:l.Fragment,leave:"transition ease-in duration-100",leaveFrom:"opacity-100",leaveTo:"opacity-0",afterLeave:()=>u(""),children:e(s.Options,{className:"absolute mt-1 max-h-60 w-full overflow-auto rounded-md bg-white py-1 text-base shadow-lg ring-1 ring-black/5 focus:outline-none sm:text-sm",children:g.length===0&&n!==""?e("div",{className:"relative cursor-default select-none px-4 py-2 text-gray-700",children:"Nothing found."}):g.map(t=>e(s.Option,{className:({active:a})=>`relative cursor-default select-none py-2 pl-10 pr-4 ${a?"bg-red-500 text-white":"text-gray-900"}`,value:t,children:({selected:a,active:M})=>r(x,{children:[e("span",{className:`block truncate ${a?"font-medium":"font-normal"}`,children:t.name}),a?e("span",{className:`absolute inset-y-0 left-0 flex items-center pl-3 ${M?"text-white":"text-red-500"}`,children:e(D,{className:"h-5 w-5","aria-hidden":"true"})}):null]})},t.id))})})]})})}),e("div",{className:"flex-1",children:e("ul",{role:"list",className:"divide-y divide-gray-100",children:o.map((t,a)=>r("li",{className:"flex justify-between gap-x-6 py-3",children:[e("div",{className:"flex min-w-0 gap-x-4",children:r("div",{className:"min-w-0 flex-auto",children:[e("p",{className:"text-sm font-semibold leading-6 text-gray-900",children:t.raw_materials.name}),r("p",{className:"mt-1 truncate text-xs leading-5 text-gray-500",children:["Bind: ",t.raw_materials.bind]})]})}),r("div",{className:"hidden shrink-0 sm:flex sm:flex-col sm:items-end",children:[e("p",{className:"text-sm leading-6 text-gray-900",children:t.group_name}),e("div",{className:"mt-1 flex items-center gap-x-1.5",children:w&&S==t.id?e("div",{className:"text-sm leading-5 text-red-500",children:"Loading..."}):e("button",{onClick:()=>C(t.id),className:"text-lg leading-5 text-red-500",children:e(F,{className:"h-4"})})})]})]},a))})}),i.length!==0&&e("div",{className:"flex-none",children:b?e(k,{}):e("button",{type:"submit",className:"flex-none w-full bg-red-600 hover:bg-red-700 text-white font-bold py-2 px-4 rounded bottom-0",children:"SUBMIT"})})]})})})}export{se as default};
