import{r as n,R as E}from"./app-87c06cae.js";import{D as W,y as j,l as z,X as B,o as h,p as ue,R as se,c as pe,s as ce,u as de}from"./use-flags-469476fe.js";import{I as K,e as me,o as T,O as X,M as I,N as Y,r as q,a as fe}from"./keyboard-bcbed6b0.js";import{b as ve,M as Q}from"./description-227e7dd7.js";import{F as be}from"./use-tree-walker-ad9a3f06.js";import{c as Re,p as ge}from"./hidden-c0690c89.js";import{T as Ee,e as he,p as $e}from"./use-controllable-20726bcc.js";let Z=n.createContext(null);function ee(){let e=n.useContext(Z);if(e===null){let t=new Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,ee),t}return e}function re(){let[e,t]=n.useState([]);return[e.length>0?e.join(" "):void 0,n.useMemo(()=>function(o){let a=h(l=>(t(u=>[...u,l]),()=>t(u=>{let v=u.slice(),s=v.indexOf(l);return s!==-1&&v.splice(s,1),v}))),d=n.useMemo(()=>({register:a,slot:o.slot,name:o.name,props:o.props}),[a,o.slot,o.name,o.props]);return E.createElement(Z.Provider,{value:d},o.children)},[t])]}let ke="label";function ye(e,t){let o=K(),{id:a=`headlessui-label-${o}`,passive:d=!1,...l}=e,u=ee(),v=j(t);z(()=>u.register(a),[a,u.register]);let s={ref:v,...u.props,id:a};return d&&("onClick"in s&&(delete s.htmlFor,delete s.onClick),"onClick"in l&&delete l.onClick),B({ourProps:s,theirProps:l,slot:u.slot||{},defaultTag:ke,name:u.name||"Label"})}let Ce=W(ye),Te=Object.assign(Ce,{});var Oe=(e=>(e[e.RegisterOption=0]="RegisterOption",e[e.UnregisterOption=1]="UnregisterOption",e))(Oe||{});let xe={0(e,t){let o=[...e.options,{id:t.id,element:t.element,propsRef:t.propsRef}];return{...e,options:fe(o,a=>a.element.current)}},1(e,t){let o=e.options.slice(),a=e.options.findIndex(d=>d.id===t.id);return a===-1?e:(o.splice(a,1),{...e,options:o})}},J=n.createContext(null);J.displayName="RadioGroupDataContext";function te(e){let t=n.useContext(J);if(t===null){let o=new Error(`<${e} /> is missing a parent <RadioGroup /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(o,te),o}return t}let V=n.createContext(null);V.displayName="RadioGroupActionsContext";function oe(e){let t=n.useContext(V);if(t===null){let o=new Error(`<${e} /> is missing a parent <RadioGroup /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(o,oe),o}return t}function Pe(e,t){return de(t.type,xe,e,t)}let we="div";function Fe(e,t){let o=K(),{id:a=`headlessui-radiogroup-${o}`,value:d,defaultValue:l,form:u,name:v,onChange:s,by:O=(r,c)=>r===c,disabled:x=!1,...N}=e,$=h(typeof O=="string"?(r,c)=>{let p=O;return(r==null?void 0:r[p])===(c==null?void 0:c[p])}:O),[P,w]=n.useReducer(Pe,{options:[]}),m=P.options,[G,_]=re(),[k,F]=Q(),M=n.useRef(null),U=j(M,t),[f,S]=Ee(d,s,l),b=n.useMemo(()=>m.find(r=>!r.propsRef.current.disabled),[m]),y=n.useMemo(()=>m.some(r=>$(r.propsRef.current.value,f)),[m,f]),R=h(r=>{var c;if(x||$(r,f))return!1;let p=(c=m.find(C=>$(C.propsRef.current.value,r)))==null?void 0:c.propsRef.current;return p!=null&&p.disabled?!1:(S==null||S(r),!0)});be({container:M.current,accept(r){return r.getAttribute("role")==="radio"?NodeFilter.FILTER_REJECT:r.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(r){r.setAttribute("role","none")}});let H=h(r=>{let c=M.current;if(!c)return;let p=me(c),C=m.filter(i=>i.propsRef.current.disabled===!1).map(i=>i.element.current);switch(r.key){case T.Enter:$e(r.currentTarget);break;case T.ArrowLeft:case T.ArrowUp:if(r.preventDefault(),r.stopPropagation(),X(C,I.Previous|I.WrapAround)===Y.Success){let i=m.find(A=>A.element.current===(p==null?void 0:p.activeElement));i&&R(i.propsRef.current.value)}break;case T.ArrowRight:case T.ArrowDown:if(r.preventDefault(),r.stopPropagation(),X(C,I.Next|I.WrapAround)===Y.Success){let i=m.find(A=>A.element.current===(p==null?void 0:p.activeElement));i&&R(i.propsRef.current.value)}break;case T.Space:{r.preventDefault(),r.stopPropagation();let i=m.find(A=>A.element.current===(p==null?void 0:p.activeElement));i&&R(i.propsRef.current.value)}break}}),g=h(r=>(w({type:0,...r}),()=>w({type:1,id:r.id}))),L=n.useMemo(()=>({value:f,firstOption:b,containsCheckedOption:y,disabled:x,compare:$,...P}),[f,b,y,x,$,P]),ne=n.useMemo(()=>({registerOption:g,change:R}),[g,R]),ae={ref:U,id:a,role:"radiogroup","aria-labelledby":G,"aria-describedby":k,onKeyDown:H},ie=n.useMemo(()=>({value:f}),[f]),D=n.useRef(null),le=ue();return n.useEffect(()=>{D.current&&l!==void 0&&le.addEventListener(D.current,"reset",()=>{R(l)})},[D,R]),E.createElement(F,{name:"RadioGroup.Description"},E.createElement(_,{name:"RadioGroup.Label"},E.createElement(V.Provider,{value:ne},E.createElement(J.Provider,{value:L},v!=null&&f!=null&&he({[v]:f}).map(([r,c],p)=>E.createElement(Re,{features:ge.Hidden,ref:p===0?C=>{var i;D.current=(i=C==null?void 0:C.closest("form"))!=null?i:null}:void 0,...se({key:r,as:"input",type:"radio",checked:c!=null,hidden:!0,readOnly:!0,form:u,name:r,value:c})})),B({ourProps:ae,theirProps:N,slot:ie,defaultTag:we,name:"RadioGroup"})))))}var Me=(e=>(e[e.Empty=1]="Empty",e[e.Active=2]="Active",e))(Me||{});let Ae="div";function Ge(e,t){var o;let a=K(),{id:d=`headlessui-radiogroup-option-${a}`,value:l,disabled:u=!1,...v}=e,s=n.useRef(null),O=j(s,t),[x,N]=re(),[$,P]=Q(),{addFlag:w,removeFlag:m,hasFlag:G}=pe(1),_=ce({value:l,disabled:u}),k=te("RadioGroup.Option"),F=oe("RadioGroup.Option");z(()=>F.registerOption({id:d,element:s,propsRef:_}),[d,F,s,e]);let M=h(g=>{var L;if(q(g.currentTarget))return g.preventDefault();F.change(l)&&(w(2),(L=s.current)==null||L.focus())}),U=h(g=>{if(q(g.currentTarget))return g.preventDefault();w(2)}),f=h(()=>m(2)),S=((o=k.firstOption)==null?void 0:o.id)===d,b=k.disabled||u,y=k.compare(k.value,l),R={ref:O,id:d,role:"radio","aria-checked":y?"true":"false","aria-labelledby":x,"aria-describedby":$,"aria-disabled":b?!0:void 0,tabIndex:(()=>b?-1:y||!k.containsCheckedOption&&S?0:-1)(),onClick:b?void 0:M,onFocus:b?void 0:U,onBlur:b?void 0:f},H=n.useMemo(()=>({checked:y,disabled:b,active:G(2)}),[y,b,G]);return E.createElement(P,{name:"RadioGroup.Description"},E.createElement(N,{name:"RadioGroup.Label"},B({ourProps:R,theirProps:v,slot:H,defaultTag:Ae,name:"RadioGroup.Option"})))}let Se=W(Fe),Le=W(Ge),je=Object.assign(Se,{Option:Le,Label:Te,Description:ve});export{je as y};
