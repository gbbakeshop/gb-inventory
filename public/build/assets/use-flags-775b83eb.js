import{r as l}from"./app-ded58547.js";import{c as g,l as m,e as p,f as E}from"./use-is-mounted-b1cee01c.js";function L(){let[t]=l.useState(g);return l.useEffect(()=>()=>t.dispose(),[t]),t}function S({container:t,accept:e,walk:n,enabled:r=!0}){let o=l.useRef(e),c=l.useRef(n);l.useEffect(()=>{o.current=e,c.current=n},[e,n]),m(()=>{if(!t||!r)return;let i=p(t);if(!i)return;let f=o.current,u=c.current,a=Object.assign(d=>f(d),{acceptNode:f}),s=i.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,a,!1);for(;s.nextNode();)u(s.currentNode)},[t,r,o,c])}function N(t){let e=t.parentElement,n=null;for(;e&&!(e instanceof HTMLFieldSetElement);)e instanceof HTMLLegendElement&&(n=e),e=e.parentElement;let r=(e==null?void 0:e.getAttribute("disabled"))==="";return r&&b(n)?!1:r}function b(t){if(!t)return!1;let e=t.previousElementSibling;for(;e!==null;){if(e instanceof HTMLLegendElement)return!1;e=e.previousElementSibling}return!0}function T(t=0){let[e,n]=l.useState(t),r=E(),o=l.useCallback(u=>{r.current&&n(a=>a|u)},[e,r]),c=l.useCallback(u=>!!(e&u),[e]),i=l.useCallback(u=>{r.current&&n(a=>a&~u)},[n,r]),f=l.useCallback(u=>{r.current&&n(a=>a^u)},[n]);return{flags:e,addFlag:o,hasFlag:c,removeFlag:i,toggleFlag:f}}export{S as F,T as c,L as p,N as r};
