import{r,c as w,j as i,a as u,t as m,h as p,x as N}from"./app-5f0ce7e9.js";import{D as A}from"./drawer-89f0a87c.js";import{L as D}from"./loading-component-362fbef5.js";import{u as L}from"./credit-service-4f592c83.js";import{S as c}from"./select-7691f917.js";import{I as j}from"./input-4d16f1ad.js";import{P as U}from"./PencilIcon-f70db1da.js";import"./dialog-69af8821.js";import"./use-flags-77b5aa33.js";import"./keyboard-ea716521.js";import"./hidden-ade8ec98.js";import"./use-root-containers-bc82b08b.js";import"./use-outside-click-2cb1b6ec.js";import"./use-owner-df390e19.js";import"./description-bd6beec8.js";import"./open-closed-80f1f5bd.js";import"./transition-6b0aa6c1.js";function Y({account:k,branch_id:f,data:o,users:g,selecta:b,breads:h}){const[x,d]=r.useState(!1),[_,B]=r.useState(!1),v=r.useRef(),l=w(),[t,n]=r.useState({user_id:o.user_id,bread_id:o.bread_id,selecta_id:o.selecta_id,amount:o.amount,discription:o.discription});function y(e){e.preventDefault(),l(m({status:"loading",message:"Loading..."})),L({id:o.id,branch_id:f,seller_id:o.seller_id,user_id:t.user_id,bread_id:t.bread_id,selecta_id:t.selecta_id,amount:t.amount,discription:t.discription,status:"unpaid",meridiem:p().format("A"),date:p().format("L")}).then(a=>{d(!1),l(m(a.notify)),l(N(a.status))})}function I(e){const a=e.target.selectedIndex,s=e.target.options[a].getAttribute("dataid");n({...t,user_id:s})}function S(e){const a=e.target.selectedIndex,s=e.target.options[a].getAttribute("dataid");n({...t,bread_id:s})}function C(e){const a=e.target.selectedIndex,s=e.target.options[a].getAttribute("dataid");n({...t,selecta_id:s})}return i(A,{title:"Update Credit",open:x,setOpen:d,button:i("div",{className:" inset-0 flex items-center justify-center",children:i("button",{type:"button",onClick:()=>d(!0),children:i(U,{className:"-ml-0.5 mr-1.5 h-6 w-6 text-blue-500","aria-hidden":"true"})})}),children:u("form",{ref:v,name:"form",onSubmit:y,className:"flex flex-col h-full w-full",children:[u("div",{className:"flex-1",children:[i(c,{title:"GB Employee",value:t.user_id,onChange:e=>I(e),items:g.map(e=>({value:e.name,id:e.id}))}),i(c,{title:"Select Bread",value:t.bread_id,onChange:e=>S(e),items:h.map(e=>({value:e.name,id:e.id}))}),i(c,{title:"Select Selecta",value:t.selecta_id,onChange:e=>C(e),items:b.map(e=>({value:e.name,id:e.id}))}),i("textarea",{onChange:e=>n({...t,discription:e.target.value}),value:t.discription,name:"description",placeholder:"Write your discription",className:"border-red-500 appearance-none block w-full bg-gray-200 text-gray-700 border-2  rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-white"}),i(j,{onChange:e=>n({...t,amount:e.target.value}),value:t.amount,name:"amount",title:"Input amount",placeholder:"Input amount",type:"text"})]}),i("div",{className:"flex-none",children:_?i(D,{}):i("button",{type:"submit",className:"flex-none w-full bg-red-600 hover:bg-red-700 text-white font-bold py-2 px-4 rounded bottom-0",children:"UPDATE"})})]})})}export{Y as default};
